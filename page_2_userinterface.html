<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Doxygen Awesome" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta property="og:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<meta property="og:url" content="https://jothepro.github.io/doxygen-awesome-css/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta name="twitter:title" content="Doxygen Awesome" />
<meta name="twitter:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<!-- END twitter metadata -->
<title>PS_Fgen_FW: 2 - User Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/M1S2/PS_Fgen_FW" class="github-corner" title="View source on GitHub" target="_blank" rel="noopener noreferrer">
    <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PS_Fgen_FW
   &#160;<span id="projectnumber">4da88f4073c1cc65ea45c3a652a2751e495e50db</span>
   </div>
   <div id="projectbrief">Firmware for an Power Supply and Function Generator build from an ATX power supply</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('page_2_userinterface.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">2 - User Interface</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="ui_components_sec"></a>
UI Components</h1>
<p>The user interface is made up of the following components:</p><ul>
<li>Graphical display: A 320x240 pixel graphical LCD is used to display the device status and current settings.</li>
<li>Encoder: A rotary encoder can be used for value editing and menu navigation.</li>
<li>KeyPad: A 16 button keypad can be used for value editing and menu navigation.</li>
<li>OnOffControls: A PCB with buttons and LEDs for faster enabling of the channels and status display.</li>
</ul>
<h1><a class="anchor" id="ui_input_sec"></a>
User Input Handling</h1>
<p>All user inputs are directly enqueued into an RingBuffer when they occur. They are then later processed by the main loop. This approach is used to decouple the user input producers (ISRs) from the processing itself (which could take some time). The following user inputs are detected:</p><ul>
<li>Keys: All pressed keys are enqueued as USERDATA_KEY types.</li>
<li>Encoder: All encoder rotations (clockwise, counterclockwise) and the encoder button are also enqueued as USERDATA_KEY types. This is done to simplify the later processing by minimizing different data types.</li>
<li>UART: Characters that are received via the serial communication interface are enqueued as USERDATA_USART types.</li>
<li><a class="el" href="_on_off_controls_8h.html#ab83a524ca1acd0787d62cdfd787574b1" title="Enumeration with all available on/off buttons.">OnOffButtons</a>: All buttons on the OnOffControls PCB are enqueued as USERDATA_ON_OFF_BUTTONS types.</li>
</ul>
<h1><a class="anchor" id="ui_library_sec"></a>
UI Library</h1>
<p>The user interface is based on a self developed UI library (<a href="https://github.com/M1S2/UI_Lib">https://github.com/M1S2/UI_Lib</a>).</p>
<h1><a class="anchor" id="ui_overview_sec"></a>
UI Overview</h1>
<h2><a class="anchor" id="ui_overview_splashscreen_sec"></a>
SplashScreen</h2>
<p>Welcome screen that shows the project name, the serial number of the device and the software version number. </p><div class="image">
<img src="SplashScreen.jpg" alt="" width="400"/>
<div class="caption">
Splash Screen</div></div>
<h2><a class="anchor" id="ui_overview_ps_sec"></a>
PS</h2>
<p>User interface part for the power supply channel of the device. </p>
<h3><a class="anchor" id="ui_overview_powersupply_sec"></a>
PowerSupply</h3>
<p>This screen can be used to change the power supply voltage settings. Also the output can be enabled or disabled and there is a control for the regulation mode. Also the actual measurements (voltage, current, power) are shown. </p><div class="image">
<img src="Screen_PS.jpg" alt="" width="400"/>
<div class="caption">
Screen PS</div></div>
<h3><a class="anchor" id="ui_overview_ovp_sec"></a>
OVP</h3>
<p>Settings for the over voltage protection of the power supply channel (protection level in % of the configured output voltage, Enabled/Disabled state, protection delay after which the protection kicks in, button to clear an active protection) </p><div class="image">
<img src="Screen_PS_OVP.jpg" alt="" width="400"/>
<div class="caption">
Screen PS OVP</div></div>
<h3><a class="anchor" id="ui_overview_ocp_sec"></a>
OCP</h3>
<p>Settings for the over current protection of the power supply channel (protection level in A, Enabled/Disabled state, protection delay after which the protection kicks in, button to clear an active protection) </p><div class="image">
<img src="Screen_PS_OCP.jpg" alt="" width="400"/>
<div class="caption">
Screen PS OCP</div></div>
<h3><a class="anchor" id="ui_overview_opp_sec"></a>
OPP</h3>
<p>Settings for the over power protection of the power supply channel (protection level in W, Enabled/Disabled state, protection delay after which the protection kicks in, button to clear an active protection) </p><div class="image">
<img src="Screen_PS_OPP.jpg" alt="" width="400"/>
<div class="caption">
Screen PS OPP</div></div>
<h2><a class="anchor" id="ui_overview_dds_sec"></a>
DDS</h2>
<p>User interface part for the direct digital synthesis channels of the device. </p>
<h3><a class="anchor" id="ui_overview_dds1_sec"></a>
DDS1</h3>
<p>This screen can be used to change the DDS parameters of channel 1 (frequency, waveform type, amplitude, offset, output enabled state). </p><div class="image">
<img src="Screen_DDS1.jpg" alt="" width="400"/>
<div class="caption">
Screen DDS1</div></div>
<h3><a class="anchor" id="ui_overview_dds2_sec"></a>
DDS2</h3>
<p>This screen can be used to change the DDS parameters of channel 2 (frequency, waveform type, amplitude, offset, output enabled state). </p><div class="image">
<img src="Screen_DDS2.jpg" alt="" width="400"/>
<div class="caption">
Screen DDS2</div></div>
<h2><a class="anchor" id="ui_overview_meas_sec"></a>
Meas</h2>
<p>User interface part for the measurement channels of the device. </p>
<h3><a class="anchor" id="ui_overview_dmm_sec"></a>
DMM</h3>
<p>Show the measurements of both digital multimeter channels (DMM1 &amp; DMM2) as value and as bar graph. </p><div class="image">
<img src="Screen_Meas_DMM.jpg" alt="" width="400"/>
<div class="caption">
Screen Meas DMM</div></div>
<h3><a class="anchor" id="ui_overview_atx_sec"></a>
ATX</h3>
<p>Show the measurements of the +5V and +3.3V ATX voltages as values and as bar graphs. </p><div class="image">
<img src="Screen_Meas_ATX.jpg" alt="" width="400"/>
<div class="caption">
Screen Meas ATX</div></div>
<h2><a class="anchor" id="ui_overview_conf_sec"></a>
Conf</h2>
<p>User interface part for different settings of the device. </p>
<h3><a class="anchor" id="ui_overview_settings_device_sec"></a>
Device</h3>
<p>This screen can be used to save all settings immediatelly (beside the automatic periodical saving), reset all settings, reset the calibration and to start the calibration (guided calibration for all output and input channels). </p><div class="image">
<img src="Screen_Conf_Device.jpg" alt="" width="400"/>
<div class="caption">
Screen Config Device</div></div>
<h3><a class="anchor" id="ui_overview_settings_powerup_sec"></a>
Settings PowerUp</h3>
<p>Settings for the output states on power up. The ouputs can always be switched off or on on power up. Also the last output states can be restored on power up. </p><div class="image">
<img src="Screen_Conf_PowerUp.jpg" alt="" width="400"/>
<div class="caption">
Screen Config PowerUp</div></div>
<h3><a class="anchor" id="ui_overview_settings_version_sec"></a>
Settings Version</h3>
<p>Screen that shows the same version informations as the welcome screen (developer, serial number of the device, software version number). </p><div class="image">
<img src="Screen_Conf_Version.jpg" alt="" width="400"/>
<div class="caption">
Screen Config Version</div></div>
 </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jan 20 2025 17:33:36 for PS_Fgen_FW by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
<script type="text/javascript">
  $(document).ready(function(){
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
  })
</script>
</body>
</html>
